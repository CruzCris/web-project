use tienda;

insert into categoria (categoria) values ("Beauty");
insert into categoria (categoria) values ("Fragances");
insert into categoria (categoria) values ("Furniture");
insert into categoria (categoria) values ("Groceries");
insert into categoria (categoria) values ("Home-Decoration");
insert into categoria (categoria) values ("Kitchen-Accesories");
insert into categoria (categoria) values ("Laptops");
insert into categoria (categoria) values ("Men-Shirts");
insert into categoria (categoria) values ("Mens-Shoes");
insert into categoria (categoria) values ("Mens-Watches");
insert into categoria (categoria) values ("Mobile-Accesories");
select * from categoria;

insert into producto (titulo,stock,precio,descuento,idCategoria) values ("Essence Mascara Lash Princess",5,9.99,7.17,1);
insert into producto (titulo,stock,precio,descuento,idCategoria) values ("Eyeshadow Palette with Mirror",44,19.99,5.5,1);
insert into producto (titulo,stock,precio,descuento,idCategoria) values ("Powder Canister",59,14.99,18.14,1);
insert into producto (titulo,stock,precio,descuento,idCategoria) values ("Red Lipstick",68,12.99,19.03,1);
insert into producto (titulo,stock,precio,descuento,idCategoria) values ("Red Nail Polish",71,8.99,2.46,1);
insert into producto (titulo,stock,precio,descuento,idCategoria) values ("Calvin Klein CK One",17,49.99,0.32,2);
insert into producto (titulo,stock,precio,descuento,idCategoria) values ("Chanel Coco Noir Eau De",41,129.99,18.64,2);
insert into producto (titulo,stock,precio,descuento,idCategoria) values ("Dior J'adore",91,89.99,17.44,2);
insert into producto (titulo,stock,precio,descuento,idCategoria) values ("Dolce Shine Eau de",3,69.99,11.47,2);
insert into producto (titulo,stock,precio,descuento,idCategoria) values ("Gucci Bloom Eau de",93,79.99,8.9,2);
insert into producto (titulo,stock,precio,descuento,idCategoria) values ("Annibale Colombo Bed",47,1899.99,0.29,3);
insert into producto (titulo,stock,precio,descuento,idCategoria) values ("Annibale Colombo Sofa",16,2499.99,18.54,3);
insert into producto (titulo,stock,precio,descuento,idCategoria) values ("Bedside Table African Cherry",16,299.99,9.58,3);
insert into producto (titulo,stock,precio,descuento,idCategoria) values ("Knoll Saarinen Executive Conference Chair",47,499.99,15.23,3);
insert into producto (titulo,stock,precio,descuento,idCategoria) values ("Wooden Bathroom Sink with Mirror",95,799.99,11.22,3);
insert into producto (titulo,stock,precio,descuento,idCategoria) values ("Apple",9,1.99,1.97,4);
insert into producto (titulo,stock,precio,descuento,idCategoria) values ("Beef Steak",96,12.99,17.99,4);
insert into producto (titulo,stock,precio,descuento,idCategoria) values ("Cat Food",13,8.99,9.57,4);
insert into producto (titulo,stock,precio,descuento,idCategoria) values ("Chicken Meat",69,9.99,10.46,4);
insert into producto (titulo,stock,precio,descuento,idCategoria) values ("Cooking Oil",22,4.99,18.89,4);
insert into producto (titulo,stock,precio,descuento,idCategoria) values ("Cucumber",22,1.49,11.44,4);
insert into producto (titulo,stock,precio,descuento,idCategoria) values ("Dog Food",40,10.99,18.15,4);
insert into producto (titulo,stock,precio,descuento,idCategoria) values ("Eggs",10,2.99,5.8,4);
insert into producto (titulo,stock,precio,descuento,idCategoria) values ("Fish Steak",99,14.99,7,4);
insert into producto (titulo,stock,precio,descuento,idCategoria) values ("Green Bell Pepper",89,1.29,15.5,4);
insert into producto (titulo,stock,precio,descuento,idCategoria) values ("Green Chili Pepper",8,0.99,18.51,4);
insert into producto (titulo,stock,precio,descuento,idCategoria) values ("Honey Jar",25,6.99,1.91,4);
insert into producto (titulo,stock,precio,descuento,idCategoria) values ("Ice Cream",76,5.49,7.58,4);
insert into producto (titulo,stock,precio,descuento,idCategoria) values ("Juice",99,3.99,5.45,4);
insert into producto (titulo,stock,precio,descuento,idCategoria) values ("Kiwi",1,2.49,10.32,4);
insert into producto (titulo,stock,precio,descuento,idCategoria) values ("Lemon",0,0.79,17.81,4);
insert into producto (titulo,stock,precio,descuento,idCategoria) values ("Milk",57,3.49,15.09,4);
insert into producto (titulo,stock,precio,descuento,idCategoria) values ("Mulberry",79,4.99,16.35,4);
insert into producto (titulo,stock,precio,descuento,idCategoria) values ("Nescafe Coffee",22,7.99,11.65,4);
insert into producto (titulo,stock,precio,descuento,idCategoria) values ("Potatoes",8,2.29,4.05,4);
insert into producto (titulo,stock,precio,descuento,idCategoria) values ("Protein Powder",65,19.99,1.58,4);
insert into producto (titulo,stock,precio,descuento,idCategoria) values ("Red Onions",86,1.99,17.89,4);
insert into producto (titulo,stock,precio,descuento,idCategoria) values ("Rice",49,5.99,12.02,4);
insert into producto (titulo,stock,precio,descuento,idCategoria) values ("Soft Drinks",78,1.99,1.88,4);
insert into producto (titulo,stock,precio,descuento,idCategoria) values ("Strawberry",9,3.99,19.59,4);
insert into producto (titulo,stock,precio,descuento,idCategoria) values ("Tissue Paper Box",97,2.49,15.44,4);
insert into producto (titulo,stock,precio,descuento,idCategoria) values ("water",95,0.99,13.71,4);
insert into producto (titulo,stock,precio,descuento,idCategoria) values ("Decoration Swing",62,59.99,0.65,5);
insert into producto (titulo,stock,precio,descuento,idCategoria) values ("Family Tree Photo Frame",34,29.99,1.53,5);
insert into producto (titulo,stock,precio,descuento,idCategoria) values ("House Showpiece Plant",89,39.99,19.45,5);
insert into producto (titulo,stock,precio,descuento,idCategoria) values ("Plant Pot",70,14.99,0.19,5);
insert into producto (titulo,stock,precio,descuento,idCategoria) values ("Table Lamp",84,49.99,0.59,5);
insert into producto (titulo,stock,precio,descuento,idCategoria) values ("Bamboo Spatula",0,7.99,4.85,6);
insert into producto (titulo,stock,precio,descuento,idCategoria) values ("Black Aluminium Cup",42,5.99,9.22,6);
insert into producto (titulo,stock,precio,descuento,idCategoria) values ("Black whisk",17,9.99,16.87,6);
insert into producto (titulo,stock,precio,descuento,idCategoria) values ("Boxed Blender",81,39.99,7.36,6);
insert into producto (titulo,stock,precio,descuento,idCategoria) values ("Carbon Steel wok",2,29.99,5.89,6);
insert into producto (titulo,stock,precio,descuento,idCategoria) values ("Chopping Board",53,12.99,17.72,6);
insert into producto (titulo,stock,precio,descuento,idCategoria) values ("Citrus Squeezer Yellow",59,8.99,12.35,6);
insert into producto (titulo,stock,precio,descuento,idCategoria) values ("Egg Slicer",30,6.99,9.6,6);
insert into producto (titulo,stock,precio,descuento,idCategoria) values ("Electric Stove",41,49.99,16.64,6);
insert into producto (titulo,stock,precio,descuento,idCategoria) values ("Fine Mesh Strainer",13,9.99,2.56,6);
insert into producto (titulo,stock,precio,descuento,idCategoria) values ("Fork",10,3.99,14.36,6);
insert into producto (titulo,stock,precio,descuento,idCategoria) values ("Glass",68,4.99,7.38,6);
insert into producto (titulo,stock,precio,descuento,idCategoria) values ("Grater Black",80,10.99,3.29,6);
insert into producto (titulo,stock,precio,descuento,idCategoria) values ("Hand Blender",8,34.99,6.44,6);
insert into producto (titulo,stock,precio,descuento,idCategoria) values ("Ice Cube Tray",81,5.99,0.95,6);
insert into producto (titulo,stock,precio,descuento,idCategoria) values ("Kitchen Sieve",33,7.99,9.23,6);
insert into producto (titulo,stock,precio,descuento,idCategoria) values ("Knife",59,14.99,19.95,6);
insert into producto (titulo,stock,precio,descuento,idCategoria) values ("Lunch Box",26,12.99,15.33,6);
insert into producto (titulo,stock,precio,descuento,idCategoria) values ("Microwave Oven",27,89.99,18.73,6);
insert into producto (titulo,stock,precio,descuento,idCategoria) values ("Mug Tree Stand",93,15.99,15.21,6);
insert into producto (titulo,stock,precio,descuento,idCategoria) values ("Pan",40,24.99,6.55,6);
insert into producto (titulo,stock,precio,descuento,idCategoria) values ("Plate",30,3.99,13.03,6);
insert into producto (titulo,stock,precio,descuento,idCategoria) values ("Red Tongs",15,6.99,18.24,6);
insert into producto (titulo,stock,precio,descuento,idCategoria) values ("Silver Pot with Glass Cap",37,39.99,4.57,6);
insert into producto (titulo,stock,precio,descuento,idCategoria) values ("Slotted Turner",36,8.99,7.24,6);
insert into producto (titulo,stock,precio,descuento,idCategoria) values ("Spice Rack",24,19.99,13.78,6);
insert into producto (titulo,stock,precio,descuento,idCategoria) values ("Spoon",51,4.99,0.93,6);
insert into producto (titulo,stock,precio,descuento,idCategoria) values ("Tray",48,16.99,9.93,6);
insert into producto (titulo,stock,precio,descuento,idCategoria) values ("Wooden Rolling Pin",80,11.99,16.94,6);
insert into producto (titulo,stock,precio,descuento,idCategoria) values ("Yellow Peeler",86,5.99,17.09,6);
insert into producto (titulo,stock,precio,descuento,idCategoria) values ("Apple MacBook Pro 14 Inch Space Gray",39,1999.99,9.25,7);
insert into producto (titulo,stock,precio,descuento,idCategoria) values ("Asus Zenbook Pro Dual Screen Laptop",38,1799.99,9.21,7);
insert into producto (titulo,stock,precio,descuento,idCategoria) values ("Huawei Matebook X Pro",34,1399.99,15.25,7);
insert into producto (titulo,stock,precio,descuento,idCategoria) values ("Lenovo Yoga 920",71,1099.99,7.77,7);
insert into producto (titulo,stock,precio,descuento,idCategoria) values ("New DELL XPS 13 9300 Laptop",18,1499.99,11.7,7);
insert into producto (titulo,stock,precio,descuento,idCategoria) values ("Blue & Black Check Shirt",44,29.99,1.41,8);
insert into producto (titulo,stock,precio,descuento,idCategoria) values ("Gigabyte Aorus Men Tshirt",64,24.99,12.6,8);
insert into producto (titulo,stock,precio,descuento,idCategoria) values ("Man Plaid Shirt",65,34.99,17.53,8);
insert into producto (titulo,stock,precio,descuento,idCategoria) values ("Man Short Sleeve Shirt",20,19.99,8.65,8);
insert into producto (titulo,stock,precio,descuento,idCategoria) values ("Men Check Shirt",69,27.99,14.21,8);
insert into producto (titulo,stock,precio,descuento,idCategoria) values ("Nike Air Jordan 1 Red And Black",15,149.99,15.82,9);
insert into producto (titulo,stock,precio,descuento,idCategoria) values ("Nike Baseball Cleats",14,79.99,11.4,9);
insert into producto (titulo,stock,precio,descuento,idCategoria) values ("Puma Future Rider Trainers",10,89.99,3.64,9);
insert into producto (titulo,stock,precio,descuento,idCategoria) values ("Sports Sneakers Off White & Red",73,119.99,11.69,9);
insert into producto (titulo,stock,precio,descuento,idCategoria) values ("Sports Sneakers Off White Red",75,109.99,17.22,9);
insert into producto (titulo,stock,precio,descuento,idCategoria) values ("Brown Leather Belt Watch",69,89.99,15.01,10);
insert into producto (titulo,stock,precio,descuento,idCategoria) values ("Longines Master Collection",65,1499.99,0.64,10);
insert into producto (titulo,stock,precio,descuento,idCategoria) values ("Rolex Cellini Date Black Dial",84,8999.99,14.28,10);
insert into producto (titulo,stock,precio,descuento,idCategoria) values ("Rolex Cellini Moonphase",33,12999.99,5.7,10);
insert into producto (titulo,stock,precio,descuento,idCategoria) values ("Rolex Datejust",11,10999.99,9.69,10);
insert into producto (titulo,stock,precio,descuento,idCategoria) values ("Rolex Submariner Watch",35,13999.99,0.82,10);
insert into producto (titulo,stock,precio,descuento,idCategoria) values ("Amazon Echo Plus",50,99.99,16.3,11);
insert into producto (titulo,stock,precio,descuento,idCategoria) values ("Apple Airpods",93,129.99,4.82,11);
select p.idProducto, p.titulo, p.stock, p.precio, p.descuento, c.categoria from producto p join categoria c on p.idCategoria=c.idCategoria;

insert into rol (rol) values ("admin");
insert into rol (rol) values ("cliente");
select * from rol;

insert into usuario (email,contrasena,nombre,paterno,materno,celular,idRol) values ("jorge_perez@gmail.com","jorge123*","Jorge","Perez","Juarez","5512345678",1);
insert into usuario (email,contrasena,nombre,paterno,materno,celular,idRol) values ("emilia123@gmail.com","emi345*","Emilia","Flores","Sanchez","5573018428",2);
insert into usuario (email,contrasena,nombre,paterno,materno,celular,idRol) values ("gerardo_j123@gmail.com","gerry975*","Gerardo","Sandoval","Calderon","5538105782",2);
select * from usuario;

insert into admin (email) values ("jorge_perez@gmail.com");
select * from admin;

insert into cliente (email,monedero) values ("emilia123@gmail.com",10000);
insert into cliente (email,monedero) values ("gerardo_j123@gmail.com",10000);
select * from cliente;

update cliente set monedero=10 where idCliente=4;

select * from carrito where idCliente=5;

select * from venta;

-- Top 5 productos más vendidos
SELECT producto.titulo, SUM(carrito.cantidad) as cantidadVendida
FROM venta
JOIN carrito ON venta.idVenta = carrito.idVenta 
JOIN producto ON carrito.idProducto = producto.idProducto
WHERE venta.idVenta IS NOT NULL
GROUP BY carrito.idProducto
ORDER BY cantidadVendida DESC
LIMIT 5;

-- Top 5 categorías más vendidas
SELECT ca.categoria, SUM(c.cantidad) AS cantidad
FROM carrito c
JOIN producto p ON c.idProducto = p.idProducto JOIN categoria ca ON p.idCategoria = ca.idCategoria
WHERE c.idVenta IS NOT NULL
GROUP BY ca.categoria
ORDER BY cantidad DESC
LIMIT 5;

-- Stock de productos 1-50
SELECT titulo, stock FROM producto LIMIT 50;

-- Stock de productos 51-100
SELECT titulo, stock FROM producto LIMIT 50 OFFSET 50;

-- Ingresos globales de la tienda
SELECT SUM(c.cantidad) AS cantidad, SUM(c.cantidad * p.precio * (1 - p.descuento / 100)) AS total
FROM carrito c
JOIN producto p ON c.idProducto = p.idProducto
WHERE c.idVenta IS NOT NULL;

-- Ingresos por producto
SELECT p.titulo, SUM(c.cantidad * p.precio * (1 - p.descuento / 100)) AS total
FROM carrito c
JOIN producto p ON c.idProducto = p.idProducto
WHERE c.idVenta IS NOT NULL
GROUP BY p.idProducto;